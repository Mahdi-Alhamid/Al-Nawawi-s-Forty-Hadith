<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>تدريب إثراء الأحاديث — املأ الفراغات</title>

    <style>
        :root {
            --bg: #f7f8fb;
            --card: #fff;
            --accent: #0a8a45;
            --muted: #666;
            --good: #1a9a3a;
            --bad: #d23;
        }

        body {
            font-family: "Noto Naskh Arabic", "Segoe UI", Tahoma, Arial;
            margin: 0;
            background: var(--bg);
            color: #111;
            padding: 20px;
        }

        .wrap {
            max-width: 980px;
            margin: 0 auto;
        }

        h1 {
            font-size: 20px;
            margin: 0 0 8px
        }

        .card {
            background: var(--card);
            padding: 14px;
            border-radius: 10px;
            box-shadow: 0 6px 18px rgba(10, 10, 30, 0.06);
            margin-bottom: 12px;
        }

        .controls {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center
        }

        label {
            font-size: 14px;
            color: var(--muted);
            display: flex;
            align-items: center;
            gap: 6px
        }

        input[type="number"],
        input[type="text"],
        select {
            padding: 6px 8px;
            border: 1px solid #e6e9ef;
            border-radius: 8px;
            font-size: 14px
        }

        button {
            padding: 8px 12px;
            border-radius: 8px;
            border: 0;
            background: var(--accent);
            color: #fff;
            cursor: pointer
        }

        .btn-ghost {
            background: transparent;
            border: 1px solid #e6e9ef;
            color: #333
        }

        .row {
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap
        }

        #hadithArea {
            margin-top: 12px;
            font-size: 20px;
            line-height: 1.9;
            background: linear-gradient(#fff, #fff);
            padding: 12px;
            border-radius: 8px;
            min-height: 120px
        }

        .blank {
            display: inline-block;
            border-bottom: 2px solid #bbb;
            padding: 2px 6px;
            margin: 0 2px;
            min-width: 4ch;
            font-size: 18px;
            vertical-align: baseline
        }

        .blank input {
            border: 0;
            outline: 0;
            font-size: 18px;
            background: transparent;
            width: 6ch;
            text-align: center
        }

        .feedback {
            margin-top: 10px;
            display: flex;
            gap: 12px;
            flex-wrap: wrap
        }

        .ok {
            color: var(--good);
            font-weight: 600
        }

        .ko {
            color: var(--bad);
            font-weight: 600
        }

        .small {
            font-size: 13px;
            color: var(--muted)
        }

        .correct-word {
            display: inline-block;
            background: #f1f8f1;
            color: var(--good);
            padding: 2px 6px;
            border-radius: 6px;
            margin-right: 6px;
            font-size: 14px
        }

        .wrong-word {
            display: inline-block;
            background: #fff1f1;
            color: var(--bad);
            padding: 2px 6px;
            border-radius: 6px;
            margin-right: 6px;
            font-size: 14px
        }

        .meta {
            margin-top: 8px;
            color: var(--muted);
            font-size: 13px
        }

        .controls-bottom {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-top: 12px;
            flex-wrap: wrap
        }

        .hint {
            font-size: 13px;
            color: #666
        }

        pre {
            white-space: pre-wrap;
            font-size: 15px
        }


.ornate-nav{
  --panel-bg: rgba(255,255,255,0.95);  
  --text: #0b1b26;                      
  --muted: #456073;                      
  --accent: #ffb703;                  
  padding: 12px 16px;
  border-radius: 10px;
  margin-bottom: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  background: var(--panel-bg);
  color: var(--text);
  box-shadow: 0 6px 20px rgba(2,6,23,0.08);
  border: 1px solid rgba(7,20,39,0.06);
  max-width: 100%;
  box-sizing: border-box;
}

.ornate-nav * { box-sizing: inherit; }

.ornate-nav .nav-title { display:flex; gap:10px; align-items:center; min-width:0; }
.ornate-nav .nav-title h1 { margin-right: 60px; font-size:1rem; color:var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.ornate-nav .nav-links { display:flex; gap:8px; align-items:center; justify-content: center; padding:0; list-style:none; flex-wrap:wrap; }

.ornate-nav .nav-links a,
.ornate-nav .nav-links a:visited,
.ornate-nav .nav-links a:active,
.ornate-nav .nav-links a:focus {
  color: var(--text);
  text-decoration: none;
  background: transparent;
  padding: 8px 12px;
  border-radius: 8px;
  font-weight:600;
  transition: transform .16s, box-shadow .16s, background .12s;
  border: 1px solid transparent;
}

.ornate-nav .nav-links a:hover,
.ornate-nav .nav-links a:focus {
  transform: translateY(-4px);
  box-shadow: 0 10px 22px rgba(2,6,23,0.08);
  background: rgba(7,20,39,0.03);
  outline: none;
}

.ornate-nav .nav-links a.cta {
  background: transparent;
  box-shadow: none;
  border: 1px solid rgba(0,0,0,0.06);
}

.ornate-nav svg { width:1.05em; height:1.05em; vertical-align:middle; fill: currentColor; stroke: currentColor; }


@media (max-width:700px){
  .ornate-nav { flex-direction: column; align-items: stretch; gap:10px; }
  .ornate-nav .nav-links { width:100%; justify-content: center; }
  .ornate-nav .nav-links a { width: auto; }
}
    </style>
</head>

<body>
    <nav class="ornate-nav" role="navigation" aria-label="قائمة الأحاديث الأربعون">
        <div class="nav-top">
            <div class="nav-title">
                <h1>الأحاديث الأربعون النووية</h1>
                <span class="ornament" aria-hidden="true"></span>
            </div>

            <ul class="nav-links" role="menubar" class="cta" aria-label="روابط صفحات الحفظ والاختبار">
                <li role="none">
                    <a role="menuitem" href="/index.html" title="انتقل إلى صفحة حفظ الأحاديث">
                        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M3 5.5C3 4.7 3.7 4 4.5 4h12c.8 0 1.5.7 1.5 1.5V20l-7-3-7 3V5.5z"
                                stroke="rgba(0,0,0,0.06)" stroke-width="0.8" fill="rgba(255,255,255,0.02)" />
                        </svg>
                        حفظ الأحاديث
                    </a>
                </li>
    
                <li role="none">
                    <a role="menuitem" href="/Q2.html" title="قم باختبار حفظك للأحاديث" style="background-color: #0a8a45; color: #fff;">
                        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M9 12l2 2 4-4" stroke="rgba(7,20,39,0.95)" stroke-width="1.6" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <rect x="3" y="3" width="18" height="18" rx="3" stroke="rgba(7,20,39,0.95)" stroke-width="1.2"
                                fill="rgba(255,255,255,0.02)" />
                        </svg>
                        اختبار الحفظ
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="wrap">
        <h1>تدريب: املأ الفراغات في الأحاديث</h1>

        <div class="card" id="configCard">
            <div class="row controls">
                <label>وضع الاختيار:
                    <select id="modeSelect">
                        <option value="single">اِخْتَر رقم حديث</option>
                        <option value="range">نطاق عشوائي</option>
                    </select>
                </label>

                <div id="singleBox" style="display:flex;gap:6px;align-items:center">
                    <label>رقم الحديث:
                        <input id="singleNumber" type="number" min="1" max="40" value="1" style="width:90px" />
                    </label>
                    <button id="genSingle" class="btn-ghost">عرض الحديث</button>
                </div>

                <div id="rangeBox" style="display:none;gap:6px;align-items:center">
                    <label>من:
                        <input id="rangeMin" type="number" min="1" max="40" value="1" style="width:90px" />
                    </label>
                    <label>إلى:
                        <input id="rangeMax" type="number" min="1" max="40" value="40" style="width:90px" />
                    </label>
                    <button id="pickRandom" class="btn-ghost">اختر رقم عشوائي</button>
                    <button id="genRandom" class="btn-ghost">عرض الحديث</button>
                </div>

                <label>نسبة الفراغات:
                    <select id="percent">
                        <option>10%</option>
                        <option>20%</option>
                        <option>30%</option>
                        <option>40%</option>
                        <option>50%</option>
                        <option>60%</option>
                        <option>70%</option>
                        <option>80%</option>
                        <option>90%</option>
                        <option>100%</option>
                    </select>
                </label>

                <label>حجم العينة (اختياري):
                    <input id="seedBox" type="text" placeholder="رمز للتوليد المختلف (اختياري)" />
                </label>

                <button id="regen" style="margin-left:auto">توليد جديد (مواقع فراغ مختلفة)</button>
            </div>

            <div class="meta small">ملاحظة: الفراغ عبارة عن مكان تكتب فيه كلمة (مربع نصي) مع فراغ قبل وبعده. كل توليد
                جديد يغير مواقع الفراغات عشوائياً.</div>
        </div>

        <div class="card">
            <div class="row" style="align-items:flex-start;gap:12px">
                <div style="flex:1">
                    <div id="hadithArea" aria-live="polite">اضغط "عرض الحديث" أو اختر عشوائياً لبدء التمرين.</div>

                    <div class="controls-bottom">
                        <label>اسم الراوي:
                            <input id="narratorInput" type="text" placeholder="أدخل اسم الراوي هنا"
                                style="min-width:240px" />
                        </label>

                        <button id="checkBtn">تحقق</button>
                        <button id="revealBtn" class="btn-ghost">كشف الإجابة</button>
                        <button id="downloadBtn" class="btn-ghost">حفظ الإجابة (JSON)</button>
                        <div id="resultSummary" class="small" style="margin-left:auto"></div>
                    </div>

                    <div class="feedback" id="feedback"></div>
                </div>

                <div style="width:320px">
                    <div class="small hint"><strong>معلومات الحديث</strong></div>
                    <div id="metaBox" class="small" style="margin-top:6px">
                        لا شيء حتى تعرض حديثًا.
                    </div>
                    <hr />
                    <div class="small hint"><strong>تعليمات</strong>
                        <ul class="small" style="padding-left:18px">
                            <li>اختر الحديث أو نطاقًا ثم اضغط عرض/اختر.</li>
                            <li>أدخل الكلمات المفقودة في الحقول الفارغة واسم الراوي ثم اضغط "تحقق".</li>
                            <li>زر "توليد جديد" يولد مواقع فراغ مختلفة لنفس الحديث/النسبة.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
                const hadithData = [
                    {
                        number: 1, title: 'الأعمال بالنيات', narrator: 'أَمِيرِ المُؤمِنينَ أَبي حَفْصٍ عُمَرَ بْنِ الخَطَّابِ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَمِيرِ المُؤمِنينَ أَبي حَفْصٍ عُمَرَ بْنِ الخَطَّابِ قَالَ : سَمِعْتُ رَسُولَ اللهِ ﷺ يَقُولُ : " إِنَّمَا الأَعْمَالُ بِالنِّيَّاتِ ، وَإنَّمَا لِكُلِّ امْرِىءٍ مَا نَوَى ، فَمَنْ كَانَتْ هِجْرَتُهُ إِلى اللهِ وَرَسُوله فَهِجْرتُهُ إلى اللهِ وَرَسُوُله ، وَمَنْ كَانَتْ هِجْرَتُهُ لِدُنْيَا يُصِيْبُهَا ، أَو امْرأَةٍ يَنْكِحُهَا ، فَهِجْرَتُهُ إِلى مَا هَاجَرَ إلَيْهِ " رواه إماما المحدثين أبو عبدالله محمد بن إسماعيل بن إبراهيم بن المغيرة بن بَرْدِزْبَهْ البخاري ، وأبو الحسين مسلم بن الحجَّاج ين مسلم القشيري النيسابوري ، في صحيحيهما اللَذين هما أصح الكتب المصنفة .`
                    },

                    {
                        number: 2, title: 'مراتب الدين', narrator: 'عُمَرَ رضي الله عنه', source: 'رواه مسلم',
                        text: `عَنْ عُمَرَ رَضِيَ اللهُ تَعَالَى عَنْهُ أقَال : بَيْنَمَا نَحْنُ جُلُوْسٌ عِنْدَ رَسُولِ اللهِ ذَاتَ يَوْمٍ إَذْ طَلَعَ عَلَيْناَ رَجُلٌ شَدِيْدُ بَيَاضِ الثّياب شَدِيْدُ سَوَادِ الشَّعْرِ لاَ يُرَى عَلَيهِ أَثَرُ السَّفَرِ وَلاَ يَعْرِفُهُ مِنا أحَدٌ حَتى جَلَسَ إلَى النبِي فَأَسْنَدَ رُكْبَتَيْهِ إلَى رُكْبَتَيْهِ وَوَضَعَ كَفيْهِ عَلَى فَخِذِيْهِ وَقَالَ : يَا مُحَمَّدُ أَخْبِرْنِي عَنِ الإِسْلاَم ، فَقَالَ رَسُولُ اللهِ ﷺ : " الإِسْلاَمُ أَنْ تَشْهَدَ أَنْ لاَ إلَه إلاَّ اللهُ وَأَنَّ مُحَمَّدَاً رَسُولُ الله ، وَتُقِيْمَ الصَّلاَة ، وَتُؤْتِيَ الزَّكَاةَ ، وَتَصُوْمَ رَمَضَانَ ، وَتَحُجَّ البيْتَ إِنِ اِسْتَطَعتَ إِليْهِ سَبِيْلاً " قَالَ: صَدَقْتَ. فَعجِبْنَا لَهُ يَسْأَلُهُ وَيُصَدِّقُهُ، قَالَ: فَأَخْبِرِنيْ عَنِ الإِيْمَانِ، قَالَ: " أَنْ تُؤمِنَ بِالله، وَمَلاِئكَتِه، وَكُتُبِهِ ، وَرُسُلِهِ ، وَالْيَومِ الآَخِر ، وَتُؤْمِنَ بِالقَدَرِ خَيْرِهِ وَشَرِّهِ " قَالَ: صَدَقْتَ، قَالَ فَأخْبِرْنِيْ عَنِ الإِحْسَانِ، قَالَ: " أَنْ تَعْبُدَ اللهَ كَأَنَكَ تَرَاهُ، فَإِنْ لمْ تَكُنْ تَرَاهُ فَإِنَّهُ يَرَاكَ " . قَالَ: فَأَخْبِرْنِي عَنِ السَّاعَةِ ، قَالَ : " مَا الْمَسئُوُلُ عَنْهَا بِأَعْلَمَ مِنَ السَّائِلِ " قَالَ : فَأخْبِرْنِيْ عَنْ أَمَارَاتِها ، قَالَ : " أَنْ تَلِدَ الأَمَةُ رَبَّتَهَا ، وَأَنْ تَرى الحُفَاةَ العُرَاةَ العَالَةَ رِعَاءَ الشَّاءِ يَتَطَاوَلُوْنَ فِي البُنْيَانِ " ثْمَّ انْطَلَقَ فَلَبِثتُ مَلِيَّاً ثُمَّ قَالَ : " يَا عُمَرُ أَتَدْرِي مَنِ السَّائِلُ؟ " قُلْتُ اللهُ وَرَسُوله أَعْلَمُ قَالَ : " فَإِنَّهُ جِبْرِيْلُ أَتَاكُمْ يُعَلَّمُكُمْ دِيْنَكُمْ " .رواه مسلم`
                    },

                    {
                        number: 3, title: 'أركان الإسلام', narrator: 'أَبِيْ عَبْدِ الرَّحْمَنِ عَبْدِ اللهِ بْنِ عُمَرَ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَبِيْ عَبْدِ الرَّحْمَنِ عَبْدِ اللهِ بْنِ عُمَرَ بْن الخَطَّابِ رَضِيَ اللهُ عَنْهُمَا قَالَ: سَمِعْتُ النبي ﷺ يَقُوْلُ: " بُنِيَ الإِسْلامُ عَلَى خَمْسٍ: شَهَادَةِ أَنْ لاَ إِلَهَ إِلاَّ الله وَأَنَّ مُحَمَّدَاً رَسُوْلُ اللهِ، وَإِقَامِ الصَّلاةِ، وَإِيْتَاءِ الزَّكَاةِ، وَحَجِّ البِيْتِ، وَصَوْمِ رَمَضَانَ "`
                    },

                    {
                        number: 4, title: 'مراحل الخلق', narrator: 'عَبْدِ اللهِ بنِ مَسْعُوْد', source: 'رواه البخاري ومسلم',
                        text: `عَنْ عَبْدِ اللهِ بنِ مَسْعُوْدْ رَضِيَ اللهُ عَنْهُ قَالَ: حَدَّثَنَا رَسُوْلُ اللهِ ﷺ وَهُوَ الصَّادِقُ المَصْدُوْقُ : " إِنَّ أَحَدَكُمْ يُجْمَعُ خَلْقُهُ فِيْ بَطْنِ أُمِّهِ أَرْبَعِيْنَ يَوْمَاً نُطْفَةً، ثُمَّ يَكُوْنُ عَلَقَةً مِثْلَ ذَلِكَ،ثُمَّ يَكُوْنُ مُضْغَةً مِثْلَ ذَلِكَ،ثُمَّ يُرْسَلُ إِلَيْهِ المَلَكُ فَيَنفُخُ فِيْهِ الرٌّوْحَ،وَيَؤْمَرُ بِأَرْبَعِ كَلِمَاتٍ: بِكَتْبِ رِزْقِهِ وَأَجَلِهِ وَعَمَلِهِ وَشَقِيٌّ أَوْ سَعِيْدٌ. فَوَالله الَّذِي لاَ إِلَهَ غَيْرُهُ إِنََّ أَحَدَكُمْ لَيَعْمَلُ بِعَمَلِ أَهْلِ الجَنَّةِ حَتَّى مَا يَكُوْنُ بَيْنَهُ وَبَيْنَهَا إلاذِرَاعٌ فَيَسْبِقُ عَلَيْهِ الكِتَابُ فَيَعْمَلُ بِعَمَلِ أَهْلِ النَّارِ فَيَدْخُلُهَا، وَإِنَّ أَحَدَكُمْ لَيَعْمَلُ بِعَمَلِ أَهْلِ النَّارِ حَتَّى مَايَكُونُ بَيْنَهُ وَبَيْنَهَا إلا ذِرَاعٌ فَيَسْبِقُ عَلَيْهِ الكِتَابُ فَيَعْمَلُ بِعَمَلِ أَهْلِ الجَنَّةِ فَيَدْخُلُهَا " رواه البخاري ومسلم.`
                    },

                    {
                        number: 5, title: 'النهي عن الابتداع في الدين', narrator: 'أُمِّ المُؤمِنِينَ أُمِّ عَبْدِ اللهِ عَائِشَةَ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أُمِّ المُؤمِنِينَ أُمِّ عَبْدِ اللهِ عَائِشَةَ - رَضِيَ اللهُ عَنْهَا - قَالَتْ: قَالَ رَسُوْلُ اللهِ : " مَنْ أَحْدَثَ فِيْ أَمْرِنَا هَذَا مَا لَيْسَ مِنْهُ فَهُوَ رَدٌّ " رواه البخاري ومسلم، وفي رواية لمسلم " مَنْ عَمِلَ عَمَلاً لَيْسَ عَلَيْهِ أَمْرُنَا فَهُوَ رَدٌّ "`
                    },

                    {
                        number: 6, title: 'البعد عن مواطن الشبهات', narrator: 'أَبِيْ عَبْدِ اللهِ النُّعْمَانِ بْنِ بِشِيْر', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَبِيْ عَبْدِ اللهِ النُّعْمَانِ بْنِ بِشِيْر رضي الله عنهما قَالَ: سَمِعْتُ رَسُوْلَ اللهِ ﷺ يَقُوْلُ: (إِنَّ الحَلالَ بَيِّنٌ وَإِنَّ الحَرَامَ بَيِّنٌ وَبَيْنَهُمَا أُمُوْرٌ مُشْتَبِهَات لاَ يَعْلَمُهُنَّ كَثِيْرٌ مِنَ النَّاس،ِ فَمَنِ اتَّقَى الشُّبُهَاتِ فَقَدِ اسْتَبْرأَ لِدِيْنِهِ وعِرْضِه، وَمَنْ وَقَعَ فِي الشُّبُهَاتِ وَقَعَ فِي الحَرَامِ كَالرَّاعِي يَرْعَى حَوْلَ الحِمَى يُوشِكُ أَنْ يَقَعَ فِيْهِ. أَلا وَإِنَّ لِكُلِّ مَلِكٍ حِمَىً . أَلا وَإِنَّ حِمَى اللهِ مَحَارِمُهُ، أَلا وإِنَّ فِي الجَسَدِ مُضْغَةً إِذَا صَلَحَتْ صَلَحَ الجَسَدُ كُلُّهُ وإذَا فَسَدَت فَسَدَ الجَسَدُ كُلُّهُ أَلا وَهيَ القَلْبُ) رواه البخاري ومسلم .`
                    },

                    {
                        number: 7, title: 'الدين النصيحة', narrator: 'أَبِي رُقَيَّةَ تَمِيْم بْنِ أَوْسٍ الدَّارِيِّ', source: 'رواه مسلم',
                        text: `عَنْ أَبِيْ رُقَيَّةَ تَمِيْم بْنِ أَوْسٍ الدَّارِيِّ رضي الله عنه أَنَّ النبي ﷺ قَالَ:( الدِّيْنُ النَّصِيْحَةُ قُلْنَا: لِمَنْ يَا رَسُولَ اللهِ ؟ قَالَ: للهِ، ولكتابه، ولِرَسُوْلِهِ، وَلأَئِمَّةِ المُسْلِمِيْنَ، وَعَامَّتِهِمْ)رواه مسلم.`
                    },

                    {
                        number: 8, title: 'حرمة دم المسلم وماله', narrator: 'ابن عمر رضي الله عنهما', source: 'رواه البخاري ومسلم',
                        text: `عَنِ ابْنِ عُمَرَ رَضِيَ اللهُ عَنْهُمَا أَنَّ رَسُوْلَ اللهِ قَالَ: (أُمِرْتُ أَنْ أُقَاتِلَ النَّاسَ حَتَّى يَشْهَدُوا أَنْ لاَ إِلَهَ إِلاَّ اللهُ وَأَنَّ مُحَمَّدَاً رَسُوْلُ اللهِ وَيُقِيْمُوْا الصَّلاةَ وَيُؤْتُوا الزَّكَاةَ فَإِذَا فَعَلُوا ذَلِكَ عَصَمُوا مِنِّي دِمَاءهَمْ وَأَمْوَالَهُمْ إِلاَّ بِحَقِّ الإِسْلامِ وَحِسَابُهُمْ عَلَى اللهِ تَعَالَى) رواه البخاري ومسلم`
                    },

                    {
                        number: 9, title: 'النهي عن كثرة السؤال والتشدد', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَبِي هُرَيْرَةَ عَبْدِ الرَّحْمَنِ بْنِ صَخْرٍ رَضِيَ الله تَعَالَى عَنْهُ قَالَ: سَمِعْتُ رَسُوْلَ اللهِ ﷺ يَقُوْلُ: (مَا نَهَيْتُكُمْ عَنْهُ فَاجْتَنِبُوهُ وَمَا أَمَرْتُكُمْ بِهِ فأْتُوا مِنْهُ مَا اسْتَطَعْتُمْ؛ فَإِنَّمَا أَهْلَكَ الَّذِيْنَ مِنْ قَبْلِكُمْ كَثْرَةُ مَسَائِلِهِمْ وَاخْتِلافُهُمْ عَلَى أَنْبِيَائِهِمْ) رواه البخاري ومسلم`
                    },

                    {
                        number: 10, title: 'سبب إجابة الدعاء', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه مسلم',
                        text: `عَنْ أَبِيْ هُرَيْرَةَ رَضِيَ اللهُ تَعَالَى عَنْهُ قَالَ: قَالَ رَسُوْلُ اللهِ : (إِنَّ اللهَ تَعَالَى طَيِّبٌ لاَ يَقْبَلُ إِلاَّ طَيِّبَاً وَإِنَّ اللهَ أَمَرَ المُؤْمِنِيْنَ بِمَا أَمَرَ بِهِ المُرْسَلِيْنَ فَقَالَ : (يَا أَيُّهَا الرُّسُلُ كُلُوا مِنَ الطَّيِّبَاتِ وَاعْمَلُوا صَالِحاً) (المؤمنون: الآية51) ، وَقَالَ: (يَا أَيُّهَا الَّذِينَ آمَنُوا كُلُوا مِنْ طَيِّبَاتِ مَا رَزَقْنَاكُمْ ) (البقرة: الآية172) ثُمَّ ذَكَرَ الرَّجُلَ يُطِيْلُ السَّفَرَ أَشْعَثَ أَغْبَرَ، يَمُدُّ يَدَيْهِ إِلَى السَّمَاء،ِ يَا رَبِّ يَا رَبِّ، وَمَطْعَمُهُ حَرَامٌ ،وَمَشْرَبُهُ حَرَامٌ، وَمَلْبَسُهُ حَرَامٌ، وَغُذِيَ بِالحَرَامِ فَأَنَّى يُسْتَجَابُ لذلك) رواه مسلم.`
                    },

                    {
                        number: 11, title: 'اترك ما شككت فيه', narrator: 'أَبِي مُحَمَّدٍ الحَسَنِ بنِ عَلِيّ', source: 'رواه الترمذي والنسائي',
                        text: `عَنْ أَبِي مُحَمَّدٍ الحَسَنِ بنِ عَلِيّ بنِ أبِي طالبٍ سِبْطِ رَسُولِ اللهِ ﷺ وَرَيْحَانَتِهِ رَضِيَ اللهُ عَنْهُمَا قَالَ: حَفِظْتَ مِنْ رَسُوْلِ اللهِ ﷺ : (دَعْ مَا يَرِيْبُكَ إِلَى مَا لاَ يَرِيْبُكَ) رواه الترمذي والنسائي وقال الترمذي: حديث حسن صحيح.`
                    },

                    {
                        number: 12, title: 'الاشتغال بما يفيد', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه الترمذي',
                        text: `عَنْ أَبِيْ هُرَيْرَةَ رَضِيَ اللهُ عَنْهُ قَالَ: قَالَ رَسُوْلُ اللهِ ﷺ : (مِنْ حُسْنِ إِسْلامِ المَرْءِ تَرْكُهُ مَا لاَ يَعْنِيْهِ) حديثٌ حسنٌ، رواه الترمذي وغيره هكذا.`
                    },

                    {
                        number: 13, title: 'من كمال الإيمان', narrator: 'أَبِيْ حَمْزَة أَنَسِ بنِ مَالِكٍ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَبِيْ حَمْزَة أَنَسِ بنِ مَالِكٍ رَضِيَ اللهُ تَعَالَى عَنْهُ خَادِمِ رَسُوْلِ اللهِ ﷺ عَن النبي ﷺ قَالَ: (لاَ يُؤمِنُ أَحَدُكُمْ حَتَّى يُحِبَّ لأَخِيْهِ مَا يُحِبُّ لِنَفْسِهِ) رواه البخاري ومسلم`
                    },

                    {
                        number: 14, title: 'متى يهدر دم المسلم؟', narrator: 'ابن مسعود', source: 'رواه البخاري ومسلم',
                        text: `عنِ ابْنِ مَسْعُودٍ رضي الله عنه قَالَ: قَالَ رَسُولُ اللهِ : (لا يَحِلُّ دَمُ امْرِئٍ مُسْلِمٍ إِلاَّ بإِحْدَى ثَلاثٍ: الثَّيِّبُ الزَّانِيْ، وَالنَّفْسُ بِالنَّفْسِ، وَالتَّاركُ لِدِيْنِهِ المُفَارِقُ للجمَاعَةِ) رواه البخاري ومسلم.`
                    },

                    {
                        number: 15, title: 'اكرام الضيف', narrator: 'أَبِي هُرَيْרَةَ', source: 'رواه البخاري ومسلم',
                        text: `عَن أَبِي هُرَيْرَةَ رضي الله عنه أَنَّ رَسُولَ اللهِ ﷺ قَالَ: (مَنْ كَانَ يُؤمِنُ بِاللهِ وَاليَوْمِ الآخِرِ فَلْيَقُلْ خَيْرَاً أَو لِيَصْمُتْ، وَمَنْ كَانَ يُؤمِنُ بِاللهِ وَاليَومِ الآخِرِ فَلْيُكْرِمْ جَارَهُ، ومَنْ كَانَ يُؤمِنُ بِاللهِ واليَومِ الآخِرِ فَلْيُكْرِمْ ضَيْفَهُ) رواه البخاري ومسلم.`
                    },

                    {
                        number: 16, title: 'النهي عن الغضب', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه البخاري',
                        text: `عَنْ أَبِي هُرَيْرَةَ رَضِيَ اللهُ عَنْهُ أَنَّ رَجُلاً قَالَ لِلنَّبيِّ ﷺ : أَوصِنِيْ، قَال : (لاَ تَغْضَبْ) . رواه البخاري`
                    },

                    {
                        number: 17, title: 'الرفق بالحيوان', narrator: 'أَبِي يَعْلَى شَدَّادِ بنِ أَوْسٍ', source: 'رواه مسلم',
                        text: `عَنْ أَبِي يَعْلَى شَدَّادِ بنِ أَوْسٍ رَضِيَ اللهُ تَعَالَى عَنْهُ عَنْ رَسُولِ اللهِ ﷺ قَالَ: (إِنَّ اللهَ كَتَبَ الإِحْسَانَ عَلَى كُلِّ شَيءٍ. فَإِذَا قَتَلْتُمْ فَأَحْسِنُوا القِتْلَةَ، وَإِذَا ذَبَحْتُمْ فَأَحْسِنُوا الذِّبْحَةَ، وَلْيُحِدَّ أَحَدُكُمْ شَفْرَتَهُ، وَلْيُرِحْ ذَبِيْحَتَهُ) رواه مسلم`
                    },

                    {
                        number: 18, title: 'الخلق الحسن', narrator: 'أَبِي ذَرٍّ جُنْدُبِ بنِ جُنَادَةَ', source: 'رواه الترمذي',
                        text: `عَنْ أَبِيْ ذَرٍّ جُنْدُبِ بنِ جُنَادَةَ وَأَبِي عَبْدِ الرَّحْمَنِ مُعَاذِ بِنِ جَبَلٍ رَضِيَ اللهُ عَنْهُمَا عَنْ رَسُولِ اللهِ ﷺ قَالَ: (اتَّقِ اللهَ حَيْثُمَا كُنْتَ، وَأَتْبِعِ السَّيِّئَةَ الحَسَنَةَ تَمْحُهَا، وَخَالِقِ النَّاسَ بِخُلُقٍ حَسَنٍ ) رواه الترمذي وقال: حديث حسن. وفي بعض النسخ: حسنٌ صحيح.`
                    },

                    {
                        number: 19, title: 'الإيمان بالقضاء والقدر', narrator: 'أَبِي عَبَّاسٍ عَبْدِ اللهِ بنِ عَبَّاسٍ', source: 'رواه الترمذي',
                        text: `عَنْ أَبِي عَبَّاسٍ عَبْدِ اللهِ بنِ عَبَّاسٍ رضي الله عنهما قَالَ: كُنْتُ خَلْفَ النبي ﷺ يَومَاً فَقَالَ: (يَا غُلاَمُ إِنّي أُعَلِّمُكَ كَلِمَاتٍ : احْفَظِ اللهَ يَحفَظك، احْفَظِ اللهَ تَجِدهُ تُجَاهَكَ، إِذَاَ سَأَلْتَ فَاسْأَلِ اللهَ، وَإِذَاَ اسْتَعَنتَ فَاسْتَعِن بِاللهِ، وَاعْلَم أَنَّ الأُمّة لو اجْتَمَعَت عَلَى أن يَنفَعُوكَ بِشيءٍ لَمْ يَنْفَعُوكَ إِلا بِشيءٍ قَد كَتَبَهُ اللهُ لَك، وإِن اِجْتَمَعوا عَلَى أَنْ يَضُرُّوكَ بِشيءٍ لَمْ يَضروك إلا بشيءٍ قَد كَتَبَهُ اللهُ عَلَيْكَ، رُفعَت الأَقْلامُ، وَجَفّتِ الصُّحُفُ) رواه الترمذي وقال: حديث حسن صحيح - وفي رواية - غير الترمذي: (اِحفظِ اللهَ تَجٍدْهُ أَمَامَكَ، تَعَرَّفْ إلى اللهِ في الرَّخاءِ يَعرِفْكَ في الشّدةِ، وَاعْلَم أن مَا أَخطأكَ لَمْ يَكُن لِيُصيبكَ، وَمَا أَصَابَكَ لَمْ يَكُن لِيُخطِئكَ، وَاعْلَمْ أنَّ النَّصْرَ مَعَ الصَّبْرِ، وَأَنَّ الفَرَجَ مَعَ الكَربِ، وَأَنَّ مَعَ العُسرِ يُسراً)`
                    },

                    {
                        number: 20, title: 'الحياء من الإيمان', narrator: 'أَبيْ مَسْعُوْدٍ', source: 'رواه البخاري',
                        text: `عَنْ أَبيْ مَسْعُوْدٍ عُقبَة بنِ عَمْرٍو الأَنْصَارِيِّ البَدْرِيِّ رضي الله عنه قَالَ: قَالَ رَسُوْلُ اللهِ ﷺ (إِنَّ مِمَّا أَدرَكَ النَاسُ مِن كَلاَمِ النُّبُوَّةِ الأُولَى إِذا لَم تَستَحْيِ فاصْنَعْ مَا شِئتَ) رواه البخاري.`
                    },

                    {
                        number: 21, title: 'الاستقامه بالإسلام', narrator: 'أَبيْ عَمْرٍو (قيل: أَبيْ عمْرَةَ) سُفْيَانَ بنِ عَبْدِ اللهِ', source: 'رواه ابن عمرو (المروي عند بعض المرويات)',
                        text: `عَنِ أَبيْ عَمْرٍو، وَقِيْلَ،أَبيْ عمْرَةَ سُفْيَانَ بنِ عَبْدِ اللهِ رضي الله عنه قَالَ: قُلْتُ يَا رَسُوْلَ اللهِ قُلْ لِيْ فِي الإِسْلامِ قَوْلاً لاَ أَسْأَلُ عَنْهُ أَحَدَاً غَيْرَكَ؟ قَالَ: (قُلْ آمَنْتُ باللهِ ثُمَّ استَقِمْ)`
                    },

                    {
                        number: 22, title: 'الطريق إلى الجنة', narrator: 'أَبيْ عبدِ اللهِ جَابِرِ بنِ عَبْدِ اللهِ الأَنْصَارِيِّ', source: 'رواه مسلم',
                        text: `عَنْ أَبيْ عَبْدِ اللهِ جَابِرِ بنِ عَبْدِ اللهِ الأَنْصَارِيِّ رضي الله عنه أَنَّ رَجُلاً سَأَلَ النبي ﷺ فَقَالَ: (أَرَأَيتَ إِذا صَلَّيْتُ المَكْتُوبَاتِ، وَصُمْتُ رَمَضانَ، وَأَحلَلتُ الحَلاَلَ، وَحَرَّمْتُ الحَرَامَ، وَلَمْ أَزِدْ عَلى ذَلِكَ شَيئاً أَدخُلالجَنَّة ؟ قَالَ: نَعَمْ) رواه مسلم`
                    },

                    {
                        number: 23, title: 'جوامع الخير', narrator: 'أَبِي مَالِكٍ الحَارِثِ بنِ عَاصِم الأَشْعَرِيِّ', source: 'رواه مسلم',
                        text: `عَنْ أَبِي مَالِكٍ الحَارِثِ بنِ عَاصِم الأَشْعَرِيِّ رَضِيَ اللهُ عَنْهُ قَالَ: قَالَ رَسُولُ اللهِ ﷺ : (الطُّهُورُ شَطْرُ الإِيْمَانِ، والحَمْدُ للهِ تَمْلأُ الميزانَ، وسُبْحَانَ اللهِ والحَمْدُ للهِ تَمْلآنِ - أَو تَمْلأُ - مَا بَيْنَ السَّمَاءِ والأَرْضِ، وَالصَّلاةُ نُورٌ، والصَّدَقَةُ بُرْهَانٌ، وَالصَّبْرُ ضِيَاءٌ، وَالقُرْآنُ حُجَّةٌ لَكَ أَو عَلَيْكَ، كُلُّ النَّاسِ يَغْدُو فَبَائِعٌ نَفْسَهُ فَمُعْتِقُهَا أَو مُوبِقُهَا)رواه مسلم.`
                    },

                    {
                        number: 24, title: 'من فضل الله على الناس', narrator: 'أَبي ذرّ الغفاري', source: 'رواه مسلم',
                        text: `عَنْ أَبي ذرٍّ الغِفَارْي رضي الله عنه عَن النبي ﷺ فيمَا يَرْويه عَنْ رَبِِّهِ عزَّ وجل أَنَّهُ قَالَ: (يَا عِبَادِيْ إِنِّيْ حَرَّمْتُ الظُّلْمَ عَلَى نَفْسِيْ وَجَعَلْتُهُ بَيْنَكُمْ مُحَرَّمَاً فَلا تَظَالَمُوْا، يَا عِبَادِيْ كُلُّكُمْ ضَالٌّ إِلاَّ مَنْ هَدَيْتُهُ فَاسْتَهْدُوْنِي أَهْدِكُمْ، يَا عِبَادِيْ كُلُّكُمْ جَائِعٌ إِلاَّ مَنْ أَطْعَمْتُهُ فاَسْتَطْعِمُونِي أُطْعِمْكُمْ، يَا عِبَادِيْ كُلُّكُمْ عَارٍ إِلاَّ مَنْ كَسَوْتُهُ فَاسْتَكْسُوْنِيْ أَكْسُكُمْ، يَا عِبَادِيْ إِنَّكُمْ تُخْطِئُوْنَ بِاللَّيْلِ وَالنَّهَارِ وَأَنَا أَغْفِرُ الذُّنُوْبَ جَمِيْعَاً فَاسْتَغْفِرُوْنِيْ أَغْفِرْ لَكُمْ، يَا عِبَادِيْ إِنَّكُمْ لَنْ تَبْلُغُوْا ضَرِّيْ فَتَضُرُّوْنِيْ وَلَنْ تَبْلُغُوْا نَفْعِيْ فَتَنْفَعُوْنِيْ، يَا عِبَادِيْ لَوْ أَنَّ أَوَّلَكُمْ وَآخِرَكُمْ وَإِنْسَكُمْ وَجِنَّكُمْ كَانُوْا عَلَى أَتْقَى قَلْبِ رَجُلٍ وَاحِدٍ مِنْكُمْ مَا زَادَ ذَلِكَ فَيْ مُلْكِيْ شَيْئَاً. يَا عِبَادِيْ لَوْ أَنَّ أَوَّلَكُمْ وَآخِرَكُمْ وَإِنْسَكُمْ وَجِنَّكُمْ كَانُوْا عَلَى أَفْجَرِ قَلْبِ رَجُلٍ وَاحِدٍ مِنْكُمْ مَا نَقَصَ ذَلِكَ مِنْ مُلْكِيْ شَيْئَاً، يَا عِبَادِيْ لَوْ أنَّ أَوَّلَكُمْ وَآخِرَكُمْ وَإنْسَكُمْ وَجِنَّكُمْ قَامُوْا فِيْ صَعِيْدٍ وَاحِدٍ فَسَأَلُوْنِيْ فَأَعْطَيْتُ كُلَّ وَاحِدٍ مَسْأَلَتَهُ مَا نَقَصَ ذَلِكَ مِمَّا عِنْدِيْ إِلاَّ كَمَا يَنْقُصُ المِخْيَطُ إَذَا أُدْخِلَ البَحْرَ، يَا عِبَادِيْ إِنَّمَا هِيَ أَعْمَالُكُمْ أُحْصِيْهَا لَكُمْ ثُمَّ أُوَفِّيْكُمْ إِيَّاهَا فَمَنْ وَجَدَ خَيْرَاً فَليَحْمَدِ اللهَ وَمَنْ وَجَدَ غَيْرَ ذَلِكَ فَلاَ يَلُوْمَنَّ إِلاَّ نَفْسَهُ) رواه مسلم.`
                    },

                    {
                        number: 25, title: 'فضل الذكر', narrator: 'أَبي ذرّ', source: 'رواه مسلم',
                        text: `عَنْ أَبي ذَرٍّ رضي الله عنه قال: أَنَّ أُنَاسَاً مِنْ أَصحَابِ رَسُولِ اللهِ ﷺ قَالوا للنَّبي ﷺ يَارَسُولَ الله: ذَهَبَ أَهلُ الدثورِ بِالأُجورِ، يُصَلُّوْنَ كَمَا نُصَلِّيْ، وَيَصُوْمُوْنَ كَمَا نَصُوْمُ، وَيَتَصَدَّقُوْنَ بفُضُوْلِ أَمْوَالِهِمْ، قَالَ: (أَوَ لَيْسَ قَدْ جَعَلَ اللهُ لَكُمْ مَا تَصَّدَّقُوْنَ؟ إِنَّ بِكُلِّ تَسْبِيْحَةٍ صَدَقَة.وَكُلِّ تَكْبِيْرَةٍ صَدَقَةً وَكُلِّ تَحْمَيْدَةٍ صَدَقَةً وَكُلِّ تَهْلِيْلَةٍ صَدَقَةٌ وَأَمْرٌ بالِمَعْرُوْفٍ صَدَقَةٌ وَنَهْيٌ عَنْ مُنْكَرٍ صَدَقَةٌ وَفِيْ بُضْعِ أَحَدِكُمْ صَدَقَةٌ قَالُوا: يَا رَسُوْلَ اللهِ أَيَأْتِيْ أَحَدُنَا شَهْوَتَهُ وَيَكُوْنُ لَهُ فِيْهَا أَجْرٌ؟ قَالَ:أَرَأَيْتُمْ لَوْ وَضَعَهَا فَيْ حَرَامٍ أَكَانَ عَلَيْهِ وِزْرٌ؟ فَكَذَلِكَ إِذَا وَضَعَهَا فَي الحَلالِ كَانَ لَهُ أَجْرٌ) رَوَاهُ مُسْلِمٌ`
                    },

                    {
                        number: 26, title: 'كثرة طرق الخير', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه البخاري ومسلم',
                        text: `عَنْ أَبِي هُرَيْرَةَ رضي الله عنه قَالَ: قَالَ رَسُولُ اللهِ ﷺ : (كُلُّ سُلامَى مِنَ النَّاسِ عَلَيْهِ صَدَقَةٌ كُلُّ يَومٍ تَطْلُعُ فِيْهِ الشَّمْسُ: تَعْدِلُ بَيْنَ اثْنَيْنِ صَدَقَةٌ، وَتُعِيْنُ الرَّجُلَ في دَابَّتِهِ فَتَحْمِلُ لَهُ عَلَيْهَا أَو تَرْفَعُ لَهُ عَلَيْهَا مَتَاعَهُ صَدَقَةٌ، وَالكَلِمَةُ الطَّيِّبَةُ صَدَقَةٌ، وَبِكُلِّ خُطْوَةٍ تَمْشِيْهَا إِلَى الصَّلاةِ صَدَقَةٌ، وَتُمِيْطُ الأَذى عَنِ الطَّرِيْقِ صَدَقَةٌ) رواه البخاري ومسلم.`
                    },

                    {
                        number: 27, title: 'تعريف البر والإثم', narrator: 'النواس بن سمعان (وعادة مذكور مع رواية وأَبصة بن معبد)', source: 'رواه مسلم',
                        text: `عن النواس بن سمعان رضي الله عنهما ، عن النبي ﷺ قال: (البر حسن الخلق ، والإثم ما حاك في نفسك وكرهت أن يطلع عليه الناس ) .رواه مسلم.وعن وابصة بن معبد رضى الله عنه ، قال : أتيت رسول الله ﷺ ، فقال : (جئت تسأل عن البر و الإثم ؟) قلت : نعم ؛ قال : (استفت قلبك ؛ البر ما اطمأنت إليه النفس واطمأن اليه القلب ، والإثم ما حاك في النفس وتردد في الصدر ، وإن أفتاك الناس وأفتوك) .حديث حسن`
                    },

                    {
                        number: 28, title: 'السمع والطاعة', narrator: 'أَبي نَجِيحٍ العربَاضِ بنِ سَاريَةَ', source: 'رواه أبو داود والترمذي',
                        text: `عَن أَبي نَجِيحٍ العربَاضِ بنِ سَاريَةَ رضي الله عنه قَالَ: وَعَظَنا رَسُولُ اللهِ مَوعِظَةً وَجِلَت مِنهَا القُلُوبُ وَذَرَفَت مِنهَا العُيون. فَقُلْنَا: يَارَسُولَ اللهِ كَأَنَّهَا مَوْعِظَةُ مُوَدِّعٍ فَأَوصِنَا، قَالَ: (أُوْصِيْكُمْ بِتَقْوَى اللهِ عز وجل وَالسَّمعِ وَالطَّاعَةِ وَإِنْ تَأَمَّرَ عَلَيْكُمْ عَبْدٌ، فَإِنَّهُ مَنْ يَعِشْ مِنْكُمْ فَسَيَرَى اخْتِلافَاً كَثِيرَاً؛ فَعَلَيكُمْ بِسُنَّتِيْ وَسُنَّةِ الخُلَفَاءِ الرَّاشِدِينَ المّهْدِيِّينَ عَضُّوا عَلَيْهَا بِالنَّوَاجِذِ وَإِيَّاكُمْ وَمُحْدَثَاتِ الأُمُورِ فإنَّ كلّ مُحدثةٍ بدعة، وكُلَّ بِدْعَةٍ ضَلالَةٌ) رواه أبو داود والترمذي وقال : حديث حسن صحيح.`
                    },

                    {
                        number: 29, title: 'بواب الخير', narrator: 'مُعَاذ بن جَبَل', source: 'رواه الترمذي',
                        text: `عَن مُعَاذ بن جَبَلٍ رضي الله عنه قَالَ: قُلتُ يَا رَسُولَ الله أَخبِرنِي بِعَمَلٍٍ يُدخِلُني الجَنَّةَ وَيُبَاعدني منٍ النار قَالَ: (لَقَدْ سَأَلْتَ عَنْ عَظِيْمٍ وَإِنَّهُ لَيَسِيْرٌ عَلَى مَنْ يَسَّرَهُ اللهُ تَعَالَى عَلَيْهِ: تَعْبُدُ اللهَ لاَتُشْرِكُ بِهِ شَيْئَا، وَتُقِيْمُ الصَّلاة، وَتُؤتِي الزَّكَاة، وَتَصُومُ رَمَضَانَ، وَتَحُجُّ البَيْتَ. ثُمَّ قَالَ: أَلاَ أَدُلُّكَ عَلَى أَبْوَابِ الخَيْرِ: الصَّوْمُ جُنَّةٌ، وَالصَّدَقَةُ تُطْفِئُ الخَطِيْئَةَ كَمَا يُطْفِئُ المَاءُ النَّارَ، وَصَلاةُ الرَّجُلِ فِي جَوْفِ اللَّيْلِ ثُمَّ تَلا : (تَتَجَافَى جُنُوبُهُمْ عَنِ الْمَضَاجِعِ) حَتَّى بَلَغَ: (يَعْلَمُونْ) [السجدة:16-17] ثُمَّ قَالَ: أَلا أُخْبِرُكَ بِرَأْسِ الأَمْرِ وَعَمُودِهِ وَذِرْوَةِ سَنَامِهِ ؟ قُلْتُ: بَلَى يَارَسُولَ اللهِ، قَالَ: رَأْسُ الأَمْرِ الإِسْلامُ وَعَمُودُهُ الصَّلاةُ وَذروَةُ سَنَامِهِ الجِهَادُ ثُمَّ قَالَ: أَلا أُخبِرُكَ بِملاكِ ذَلِكَ كُلِّهِ ؟ قُلْتُ:بَلَى يَارَسُولَ اللهِ. فَأَخَذَ بِلِسَانِهِ وَقَالَ: كُفَّ عَلَيْكَ هَذَا. قُلْتُ يَانَبِيَّ اللهِ وَإِنَّا لَمُؤَاخَذُونَ بِمَا نَتَكَلَّمُ بِهِ ؟ فَقَالَ: ثَكِلَتْكَ أُمُّكَ يَامُعَاذُ. وَهَلْ يَكُبُّ النَّاسَ فِي النَّارِ عَلَى وُجُوهِهِمْ أَو قَالَ: عَلَى مَنَاخِرِهِمْ إِلاَّ حَصَائِدُ أَلسِنَتِهِمْ) رواه الترمذي وقال: حديث حسن صحيح.`
                    },

                    {
                        number: 30, title: 'الوقوف عند حدود الشرع', narrator: 'أَبِيْ ثَعْلَبَةَ الخُشَنِيِّ جُرثُومِ بنِ نَاشِرٍ', source: 'رواه الدارقطني وغيره',
                        text: `عَنْ أَبِيْ ثَعْلَبَةَ الخُشَنِيِّ جُرثُومِ بنِ نَاشِرٍ رضي الله عنه عَن رَسُولِ اللهِ ﷺ قَالَ: (إِنَّ اللهَ فَرَضَ فَرَائِضَ فَلا تُضَيِّعُوهَا، وَحَدَّ حُدُودَاً فَلا تَعْتَدُوهَا وَحَرَّمَ أَشْيَاءَ فَلا تَنْتَهِكُوهَا، وَسَكَتَ عَنْ أَشْيَاءَ رَحْمَةً لَكُمْ غَيْرَ نِسْيَانٍ فَلا تَبْحَثُوا عَنْهَا) حديث حسن رواه الدارقطني وغيره.`
                    },

                    {
                        number: 31, title: 'الزهد في الدنيا', narrator: 'أَبي العَبّاس سَعدِ بنِ سَهلٍ السَّاعِدي', source: 'رواه ابن ماجه وغيره',
                        text: `عَنْ أَبي العَباس سَعدِ بنِ سَهلٍ السَّاعِدي رضي الله عنه قَالَ: جَاءَ رَجُلٌ إِلَى النبي ﷺ فَقَالَ: يَا رَسُول الله: دُلَّني عَلَى عَمَلٍ إِذَا عَمَلتُهُ أَحَبَّني اللهُ، وَأَحبَّني النَاسُ ؟ فَقَالَ: (ازهَد في الدُّنيَا يُحِبَّكَ اللهُ ، وازهَد فيمَا عِندَ النَّاسِ يُحِبَّكَ النَّاسُ) حديث حسن رواه ابن ماجة وغيره بأسانيد حسنة.`
                    },

                    {
                        number: 32, title: 'لا ضرر ولا ضرار', narrator: 'أَبُو سَعِيدْ سَعْد بن مالك الخدري', source: 'رواه ابن ماجه والدارقطني',
                        text: `عن أبي سعيد سعد بن مالك بن سنان الخدري رضي الله عنه أن رسول الله ( ﷺ ) قال: (لا ضرر ولا ضرار) . حديث حسن رواه ابن ماجه والدار قطني وغيرهما مسنداً`
                    },

                    {
                        number: 33, title: 'البيّنة على المُدَّعي', narrator: 'ابن عباس', source: 'رواه البيهقي',
                        text: `عنِ ابْنِ عَبَّاسٍ رَضِيَ اللهُ عَنْهُمَا أَنَّ رَسُولَ اللهِ ﷺ قَالَ: "لَوْ يُعْطَى النَّاسُ بِدعوَاهُمْ لادَّعَى رِجَالٌ أَمْوَال قَومٍ وَدِمَاءهُمْ، وَلَكِنِ البَينَةُ عَلَى المُدَّعِي، وَاليَمينُ عَلَى مَن أَنكَر" حديث حسن رواه البيهقي هكذا بعضه في الصحيحين.`
                    },

                    {
                        number: 34, title: 'تغيير المنكر فريضة', narrator: 'أَبِي سَعيدٍ الخُدريّ', source: 'رواه مسلم',
                        text: `عَنْ أَبي سَعيدٍ الخُدريِّ رضي الله عنه قَالَ: سَمِعتُ رِسُولَ اللهِ ﷺ يَقولُ: (مَن رَأى مِنكُم مُنكَرَاً فَليُغَيِّرْهُ بِيَدِهِ، فَإِنْ لَمْ يَستَطعْ فَبِلِسَانِهِ، فَإِنْ لَمْ يَستَطعْ فَبِقَلبِه وَذَلِكَ أَضْعَفُ الإيمَانِ) رواه مسلم.`
                    },

                    {
                        number: 35, title: 'المسلم أخو المسلم', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه مسلم',
                        text: `عَنْ أَبي هُرَيرَةَ رضي الله عنه قَالَ: قَالَ رَسُولُ اللهِ ﷺ : (لاَ تَحَاسَدوا، وَلاَتَنَاجَشوا، وَلاَ تَبَاغَضوا، وَلاَ تَدَابَروا، وَلاَ يَبِع بَعضُكُم عَلَى بَيعِ بَعضٍ، وَكونوا عِبَادَ اللهِ إِخوَانَاً، المُسلِمُ أَخو المُسلم، لاَ يَظلِمهُ، وَلاَ يَخذُلُهُ، وَلا يكْذِبُهُ، وَلايَحْقِرُهُ، التَّقوَى هَاهُنَا - وَيُشيرُ إِلَى صَدرِهِ ثَلاَثَ مَراتٍ - بِحَسْبِ امرىء مِن الشَّرأَن يَحْقِرَ أَخَاهُ المُسلِمَ، كُلُّ المُسِلمِ عَلَى المُسلِمِ حَرَام دَمُهُ وَمَالُه وَعِرضُه) رواه مسلم`
                    },

                    {
                        number: 36, title: 'قضاء حوائج المسلمين', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه مسلم',
                        text: `عَنْ أَبي هُرَيرَة رضي الله عنه عَنِ النبي ﷺ قَالَ: (مَنْ نَفَّسَ عَنْ مُؤمِن كُربَةً مِن كُرَبِ الدُّنيَا نَفَّسَ اللهُ عَنهُ كُربَةً مِنْ كرَبِ يَوم القيامَةِ، وَمَنْ يَسَّرَ على مُعسرٍ يَسَّرَ الله عَلَيهِ في الدُّنيَا والآخِرَة، وَمَنْ سَتَرَ مُسلِمَاً سَتَرَهُ الله في الدُّنيَا وَالآخِرَة، وَاللهُ في عَونِ العَبدِ مَا كَانَ العَبدُ في عَونِ أخيهِ، وَمَنْ سَلَكَ طَريقَاً يَلتَمِسُ فيهِ عِلمَاً سَهَّلَ اللهُ لهُ بِهِ طَريقَاً إِلَى الجَنَّةِ، وَمَا اجتَمَعَ قَومٌ في بَيتٍ مِنْ بيوتِ اللهِ يَتلونَ كِتابِ اللهِ وَيتَدارَسونهَ بَينَهُم إِلا نَزَلَت عَلَيهُم السَّكينَة وَغَشيَتهم الرَّحمَة وحَفَتهُمُ المَلائِكة وَذَكَرهُم اللهُ فيمَن عِندَهُ،وَمَنْ بَطَّأ بِهِ عَمَلُهُ لَمْ يُسْرِعْ بهِ نَسَبُهُ)رواه مسلم بهذا اللفظ`
                    },

                    {
                        number: 37, title: 'الترغيب في فعل الحسنات', narrator: 'ابن عباس', source: 'رواه البخاري ومسلم',
                        text: `عَن ابْنِ عَبَّاسٍ رَضِيَ اللهُ عَنْهُمَا عَنِ النبي ﷺ فِيْمَا يَرْوِيْهِ عَنْ رَبِّهِ تَبَارَكَ وَتَعَالى أَنَّهُ قَالَ: (إِنَّ الله كَتَبَ الحَسَنَاتِ وَالسَّيئَاتِ ثُمَّ بَيَّنَ ذَلِكَ؛ فَمَنْ هَمَّ بِحَسَنَةٍ فَلَمْ يَعْمَلْهَا كَتَبَهَا اللهُ عِنْدَهُ حَسَنَةً كَامِلَةً،وَإِنْ هَمَّ بِهَا فَعَمِلَهَا كَتَبَهَا اللهُ عِنْدَهُ عَشْرَ حَسَنَاتٍ إِلَى سَبْعِمائَةِ ضِعْفٍ إِلىَ أَضْعَاف كَثِيْرَةٍ. وَإِنْ هَمَّ بِسَيِّئَةٍ فَلَمْ يَعْمَلْهَا كَتَبَهَا اللهُ عِنْدَهُ حَسَنَةً كَامِلَةً،وَإِنْ هَمَّ بِهَا فَعَمِلَهَا كَتَبَهَا اللهُ سَيِّئَةً وَاحِدَةً) رَوَاهُ البُخَارِيُّ وَمُسْلِمٌ في صَحِيْحَيهِمَا بِهَذِهِ الحُرُوْفِ.`
                    },

                    {
                        number: 38, title: 'جزاء معادات الأولياء', narrator: 'أَبِي هُرَيْرَةَ', source: 'رواه البخاري',
                        text: `عَنْ أَبِي هُرَيْرَةَ رضي الله عنه قَالَ: قَالَ رَسُولُ اللهِ ﷺ : (إِنَّ اللهَ تَعَالَى قَالَ: مَنْ عَادَى لِي وَلِيَّاً فَقَدْ آذَنْتُهُ بِالحَرْبِ. وَمَا تَقَرَّبَ إِلِيَّ عَبْدِيْ بِشَيءٍ أَحَبَّ إِلِيَّ مِمَّا افْتَرَضْتُهُ عَلَيْهِ. ولايَزَالُ عَبْدِيْ يَتَقَرَّبُ إِلَيَّ بِالنَّوَافِلِ حَتَّى أُحِبَّهُ، فَإِذَا أَحْبَبتُهُ كُنْتُ سَمْعَهُ الَّذِيْ يَسْمَعُ بِهِ، وَبَصَرَهُ الَّذِيْ يُبْصِرُ بِهِ، وَيَدَهُ الَّتِي يَبْطِشُ بِهَا، وَرِجْلَهُ الَّتِي يَمْشِيْ بِهَا. وَلَئِنْ سَأَلَنِيْ لأُعطِيَنَّهُ، وَلَئِنْ اسْتَعَاذَنِيْ لأُعِيْذَنَّهُ) رواه البخاري`
                    },

                    {
                        number: 39, title: 'التجاوز عن الخطأ والنسيان', narrator: 'ابن عباس', source: 'رواه ابن ماجه والبيهقي',
                        text: `عَنِ ابْنِ عَبَّاسٍ رَضِيَ اللهُ عَنْهُمَا أَنَّ رَسُولَ اللهِ ﷺ قَال: (إِنَّ اللهَ تَجَاوَزَ لِي عَنْ أُمَّتِي الخَطَأَ وَالنِّسْيَانَ وَمَا اسْتُكْرِهُوا عَلَيْهِ) حديث حسن رواه ابن ماجه والبيهقي وغيرهما.`
                    },

                    {
                        number: 40, title: 'كن في الدنيا كأنك غريب', narrator: 'ابن عمر', source: 'رواه البخاري',
                        text: `عَنِ ابْنِ عُمَرَ رَضِيَ اللهُ عَنْهُمَا قَالَ: أَخَذَ رَسُولُ اللهِ ﷺ بِمنْكبيَّ فَقَالَ: (كُنْ فِي الدُّنْيَا كَأَنَّكَ غَرِيْبٌ أَوْ عَابِرُ سَبِيْلٍ) وَكَانَ ابْنُ عُمَرَ رَضِيَ اللهُ عَنْهُمَا يَقُوْلُ: إِذَا أَمْسَيْتَ فَلا تَنْتَظِرِ الصَّبَاحَ، وَإِذَا أَصْبَحْتَ فَلا تَنْتَظِرِ المَسَاءَ. وَخُذْ مِنْ صِحَّتِكَ لِمَرَضِكَ، وَمِنْ حَيَاتِكَ لمَوْتِكَ..رواه البخاري.`
                    }

                ];


        function byNumber(n) { return hadithData.find(h => h.number === Number(n)); }
        function clamp(n, a, b) { return Math.max(a, Math.min(b, n)); }
        function normalizeStr(s) { return (s || '').replace(/\s+/g, ' ').trim(); }
        function stripPunct(s) { return (s || '').replace(/^[^\p{L}\p{N}]+|[^\p{L}\p{N}]+$/gu, '').trim(); }
        function removeArabicDiacritics(s) {
            if (!s) return '';
            return String(s).replace(/[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06ED\u0640]/g, '');
        }

        function segmentsFromText(text) {
            const re = /(\s+|[^\s]+)/g;
            const segs = [];
            let m;
            while ((m = re.exec(text)) !== null) segs.push(m[0]);
            return segs;
        }

        function seededRng(seed) {
            let h = 2166136261 >>> 0;
            for (let i = 0; i < seed.length; i++) h = Math.imul(h ^ seed.charCodeAt(i), 16777619);
            return function () { h += 0x6D2B79F5; let t = Math.imul(h ^ (h >>> 15), 1 | h); t ^= t + Math.imul(t ^ (t >>> 7), 61 | t); return ((t ^ (t >>> 14)) >>> 0) / 4294967296; };
        }

        function sampleIndices(indices, k, rng = Math.random) {
            const out = [];
            const arr = indices.slice();
            for (let i = 0; i < k && arr.length > 0; i++) {
                const j = Math.floor(rng() * arr.length);
                out.push(arr.splice(j, 1)[0]);
            }
            return out;
        }

        const modeSelect = document.getElementById('modeSelect');
        const singleBox = document.getElementById('singleBox');
        const rangeBox = document.getElementById('rangeBox');
        const singleNumber = document.getElementById('singleNumber');
        const rangeMin = document.getElementById('rangeMin');
        const rangeMax = document.getElementById('rangeMax');
        const pickRandom = document.getElementById('pickRandom');
        const genSingle = document.getElementById('genSingle');
        const genRandom = document.getElementById('genRandom');
        const percentEl = document.getElementById('percent');
        const seedBox = document.getElementById('seedBox');
        const regenBtn = document.getElementById('regen');

        const hadithArea = document.getElementById('hadithArea');
        const metaBox = document.getElementById('metaBox');
        const narratorInput = document.getElementById('narratorInput');
        const checkBtn = document.getElementById('checkBtn');
        const revealBtn = document.getElementById('revealBtn');
        const feedback = document.getElementById('feedback');
        const resultSummary = document.getElementById('resultSummary');
        const downloadBtn = document.getElementById('downloadBtn');

        let currentHadith = null;
        let currentSegments = [];
        let blankIndexes = []; 
        let tokenPositions = []; 
        let currentRng = Math.random;

        modeSelect.addEventListener('change', () => {
            const m = modeSelect.value;
            singleBox.style.display = m === 'single' ? 'flex' : 'none';
            rangeBox.style.display = m === 'range' ? 'flex' : 'none';
        });

        pickRandom.addEventListener('click', () => {
            let a = clamp(Number(rangeMin.value) || 1, 1, 40);
            let b = clamp(Number(rangeMax.value) || 40, 1, 40);
            if (a > b) [a, b] = [b, a];
            const chosen = Math.floor(Math.random() * (b - a + 1)) + a;
            singleNumber.value = chosen;
            modeSelect.value = 'single';
            modeSelect.dispatchEvent(new Event('change'));
        });

        function prepareRng() {
            const seed = seedBox.value.trim();
            if (seed) {
                currentRng = seededRng(seed);
            } else currentRng = Math.random;
        }
        genSingle.addEventListener('click', () => {
            const num = clamp(Number(singleNumber.value) || 1, 1, 40);
            prepareRng();
            renderHadithByNumber(num);
        });
        genRandom.addEventListener('click', () => {
            let a = clamp(Number(rangeMin.value) || 1, 1, 40);
            let b = clamp(Number(rangeMax.value) || 40, 1, 40);
            if (a > b) [a, b] = [b, a];
            prepareRng();
            const chosen = Math.floor(currentRng() * (b - a + 1)) + a;
            singleNumber.value = chosen;
            renderHadithByNumber(chosen);
        });

        regenBtn.addEventListener('click', () => {
            if (!currentHadith) { alert('اختر حديثًا أو أنشئ واحدًا أولاً'); return; }
            prepareRng();
            renderHadithByNumber(currentHadith.number, { regen: true });
        });

        function renderHadithByNumber(num, opts = {}) {
            const h = byNumber(num);
            if (!h) { alert('رقم الحديث غير موجود'); return; }
            currentHadith = h;
            const segs = segmentsFromText(h.text);
            currentSegments = segs;

            // خذ فقط التوكنات التي تحتوي على حرف أو رقم (يضمن تجاهل علامات الترقيم البحتة مثل " أو . أو — أو فاصلة)
            tokenPositions = segs
                .map((s, i) => ({ s, i }))
                .filter(o => /[\p{L}\p{N}]/u.test(o.s)) // يتطلب وجود حرف أو رقم (Unicode-aware)
                .map(o => o.i);
            const pct = Number((percentEl.value || '10%').replace('%', '')) / 100;
            const tokensCount = tokenPositions.length;
            let blanksCount = Math.round(tokensCount * pct);
            if (blanksCount < 1 && pct > 0) blanksCount = 1;
            if (pct >= 1) blanksCount = tokensCount;
            const indicesToChoose = tokenPositions.slice();
            const chosen = sampleIndices(indicesToChoose, blanksCount, currentRng);
            blankIndexes = chosen.slice();
            const htmlParts = segs.map((seg, i) => {
                if (blankIndexes.includes(i)) {
                    const originalWord = seg;
                    return `<span class="blank" data-idx="${i}"><input data-idx="${i}" autocomplete="off" /></span>`;
                } else {
                    return escapeHtml(seg);
                }
            });
            hadithArea.innerHTML = htmlParts.join('');
            metaBox.innerHTML = `<div><strong>الرقم:</strong> ${h.number}</div>
                    <div><strong>العنوان:</strong> ${h.title || '—'}</div>
                    <div><strong>المصدر:</strong> ${h.source || '—'}</div>`;
            narratorInput.value = ''; 
            feedback.innerHTML = '';
            resultSummary.textContent = '';
            window.__correctMap = {}; 
            tokenPositions.forEach(i => window.__correctMap[i] = currentSegments[i]);
            setTimeout(() => {
                const first = document.querySelector('.blank input');
                if (first) first.focus();
            }, 50);
        }

        function escapeHtml(s) { return String(s).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'); }

        checkBtn.addEventListener('click', () => {
            if (!currentHadith) { alert('لا يوجد حديث للاختبار'); return; }
            const inputs = Array.from(document.querySelectorAll('.blank input'));
            let correct = 0;
            let total = inputs.length;
            feedback.innerHTML = '';
            inputs.forEach(inp => {
                const idx = Number(inp.dataset.idx);
                const user = normalizeStr(inp.value || '');
                const original = String(window.__correctMap[idx] || '').trim();
                const origCore = removeArabicDiacritics(stripPunct(original));
                const userCore = removeArabicDiacritics(stripPunct(user));
                const equal = normalizeStr(origCore).toLowerCase() === normalizeStr(userCore).toLowerCase();

                if (equal) {
                    inp.style.borderBottom = '2px solid var(--good)';
                    inp.style.color = 'var(--good)';
                    correct++;
                    const badge = document.createElement('span'); badge.className = 'ok small'; badge.textContent = '✔';
                    inp.parentNode.appendChild(badge);
                } else {
                    inp.style.borderBottom = '2px solid var(--bad)';
                    inp.style.color = 'var(--bad)';
                    const corr = document.createElement('span');
                    corr.className = 'correct-word';
                    corr.textContent = stripPunct(origCore) || original;
                    inp.parentNode.appendChild(corr);
                }
                inp.disabled = true;
            });

            const userNarr = normalizeStr(narratorInput.value || '');
            const origNarr = normalizeStr(currentHadith.narrator || '');
            let narrOk = normalizeStr(stripPunct(userNarr)) === normalizeStr(stripPunct(origNarr));
            let narrBadge = document.createElement('div');
            narrBadge.style.marginLeft = 'auto';
            narrBadge.className = narrOk ? 'ok small' : 'ko small';
            narrBadge.textContent = narrOk ? 'اسم الراوي صحيح' : `الراوي: ${currentHadith.narrator}`;
            feedback.appendChild(narrBadge);

            resultSummary.textContent = `صححت ${correct} من ${total} كلمة${total === 1 ? '' : 'ً'}، ${Math.round((correct / Math.max(total, 1)) * 100)}%`;
        });

        revealBtn.addEventListener('click', () => {
            if (!currentHadith) return;
            const inputs = Array.from(document.querySelectorAll('.blank input'));
            inputs.forEach(inp => {
                const idx = Number(inp.dataset.idx);
                const original = String(window.__correctMap[idx] || '');
                inp.value = stripPunct(original) || original;
                inp.style.borderBottom = '2px solid var(--good)';
                inp.disabled = true;
            });
            narratorInput.value = currentHadith.narrator || '';
            feedback.innerHTML = `<div class="ok small">تم ملء الإجابات الصحيحة.</div>`;
            resultSummary.textContent = `كشف الإجابة (${inputs.length} كلمات).`;
        });

        downloadBtn.addEventListener('click', () => {
            if (!currentHadith) { alert('لا يوجد شيء لحفظه'); return; }
            const inputs = Array.from(document.querySelectorAll('.blank input'));
            const data = {
                hadithNumber: currentHadith.number,
                percent: percentEl.value,
                narratorProvided: narratorInput.value,
                answers: inputs.map(inp => ({ idx: inp.dataset.idx, value: inp.value }))
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a'); a.href = url; a.download = `answers_h${currentHadith.number}.json`; a.click();
            URL.revokeObjectURL(url);
        });

        document.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const el = document.activeElement;
                if (el && el.tagName.toLowerCase() === 'input' && el.parentNode && el.parentNode.classList.contains('blank')) {
                    e.preventDefault();
                    // find next input
                    const inputs = Array.from(document.querySelectorAll('.blank input'));
                    const idx = inputs.indexOf(el);
                    if (idx >= 0 && idx < inputs.length - 1) inputs[idx + 1].focus();
                    else checkBtn.click();
                }
            }
        });

        (function init() {
            modeSelect.value = 'single';
            modeSelect.dispatchEvent(new Event('change'));
        })();
    </script>
</body>


</html>

